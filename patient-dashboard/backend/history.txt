#V2
USE NS patient_dashboard DB patient_dashboard; CREATE user:admin SET email = 'admin@pfinni.local', password_hash = '$2b$12$7vHqJI1ePZvHCxWKYJG0MeJGOx4nWqyElXWdvWgqEXQHHQSFJN5H.', first_name = 'Admin', last_name = 'User', role = 'ADMIN', is_active = true, created_at = time::now(), updated_at = time::now(); SELECT * FROM user;
USE NS patient_dashboard DB patient_dashboard; INFO FOR DB;
USE NS patient_dashboard; USE DB patient_dashboard;
        DEFINE TABLE user SCHEMAFULL;
        DEFINE FIELD email ON user TYPE string ASSERT string::is::email($value);
        DEFINE FIELD password_hash ON user TYPE string;
        DEFINE FIELD first_name ON user TYPE string;
        DEFINE FIELD last_name ON user TYPE string;
        DEFINE FIELD role ON user TYPE string ASSERT $value IN ['ADMIN', 'DOCTOR', 'NURSE', 'STAFF'];
        DEFINE FIELD is_active ON user TYPE bool DEFAULT true;
        DEFINE FIELD created_at ON user TYPE datetime;
        DEFINE FIELD updated_at ON user TYPE datetime;
        DEFINE INDEX email_idx ON user FIELDS email UNIQUE;
    
        DEFINE TABLE patient SCHEMAFULL;
        DEFINE FIELD first_name ON patient TYPE string;
        DEFINE FIELD last_name ON patient TYPE string;
        DEFINE FIELD middle_name ON patient TYPE option<string>;
        DEFINE FIELD date_of_birth ON patient TYPE string;
        DEFINE FIELD email ON patient TYPE string;
        DEFINE FIELD phone ON patient TYPE string;
        DEFINE FIELD ssn ON patient TYPE string;
        DEFINE FIELD address ON patient TYPE object;
        DEFINE FIELD address.street ON patient TYPE string;
        DEFINE FIELD address.city ON patient TYPE string;
        DEFINE FIELD address.state ON patient TYPE string;
        DEFINE FIELD address.zip_code ON patient TYPE string;
        DEFINE FIELD insurance ON patient TYPE object;
        DEFINE FIELD insurance.member_id ON patient TYPE string;
        DEFINE FIELD insurance.company ON patient TYPE string;
        DEFINE FIELD insurance.plan_type ON patient TYPE string;
        DEFINE FIELD insurance.group_number ON patient TYPE string;
        DEFINE FIELD insurance.effective_date ON patient TYPE string;
        DEFINE FIELD insurance.termination_date ON patient TYPE option<string>;
        DEFINE FIELD status ON patient TYPE string;
        DEFINE FIELD risk_level ON patient TYPE string;
        DEFINE FIELD created_at ON patient TYPE datetime;
        DEFINE FIELD updated_at ON patient TYPE datetime;
    
        CREATE user:admin SET            email = 'admin@example.com',            password_hash = '$2b$12$a2HmeF/B0/dslEuPWoSzoudcDcETX0307RauUpXZxItBcx6P7upNm',            first_name = 'Admin',            last_name = 'User',            role = 'ADMIN',            is_active = true,            created_at = time::now(),            updated_at = time::now();
    
                CREATE patient:maria_garcia SET                    first_name = 'Maria',                    last_name = 'Garcia',                    middle_name = 'Isabel',                    date_of_birth = '1988-05-17',                    email = 'maria.garcia@example.com',                    phone = '512-555-0100',                    ssn = '567-89-0123',                    address = {                        street: '202 Elm Way',                        city: 'San Antonio',                        state: 'TX',                        zip_code: '78201'                    },                    insurance = {                        member_id: 'HUM615234567',                        company: 'Humana Inc',                        plan_type: 'POS Choice',                        group_number: 'GRP015',                        effective_date: '2025-01-01',                        termination_date: '2025-12-31'                    },                    status = 'Active',                    risk_level = 'Low',                    created_at = time::now(),                    updated_at = time::now();
            
                CREATE patient:jessica_miller SET                    first_name = 'Jessica',                    last_name = 'Miller',                    middle_name = 'Ann',                    date_of_birth = '1995-02-03',                    email = 'jessica.miller@example.com',                    phone = '512-555-0100',                    ssn = '789-01-2345',                    address = {                        street: '404 Willow Circle',                        city: 'El Paso',                        state: 'TX',                        zip_code: '79901'                    },                    insurance = {                        member_id: 'ANT475987654',                        company: 'Anthem BCBS',                        plan_type: 'PPO Health Plan',                        group_number: 'GRP007',                        effective_date: '2025-01-01',                        termination_date: '2025-12-31'                    },                    status = 'Active',                    risk_level = 'Low',                    created_at = time::now(),                    updated_at = time::now();
            
                CREATE patient:sarah_anderson SET                    first_name = 'Sarah',                    last_name = 'Anderson',                    middle_name = 'Marie',                    date_of_birth = '1985-03-15',                    email = 'sarah.anderson@example.com',                    phone = '512-555-0100',                    ssn = '123-45-6789',                    address = {                        street: '123 Maple Street',                        city: 'Austin',                        state: 'TX',                        zip_code: '78701'                    },                    insurance = {                        member_id: 'UHC123456789',                        company: 'United Healthcare',                        plan_type: 'PPO Health Plan',                        group_number: 'GRP001',                        effective_date: '2025-01-01',                        termination_date: '2025-12-31'                    },                    status = 'Active',                    risk_level = 'Low',                    created_at = time::now(),                    updated_at = time::now();
            
                CREATE patient:robert_davis SET                    first_name = 'Robert',                    last_name = 'Davis',                    middle_name = NONE,                    date_of_birth = '1971-09-14',                    email = 'robert.davis@example.com',                    phone = '512-555-0100',                    ssn = '678-90-1234',                    address = {                        street: '303 Birch Road',                        city: 'Fort Worth',                        state: 'TX',                        zip_code: '76101'                    },                    insurance = {                        member_id: 'KAI521345678',                        company: 'Kaiser Permanente',                        plan_type: 'Traditional Indemnity',                        group_number: 'GRP006',                        effective_date: '2025-01-01',                        termination_date: '2025-12-31'                    },                    status = 'Active',                    risk_level = 'Medium',                    created_at = time::now(),                    updated_at = time::now();
            
                CREATE patient:michael_johnson SET                    first_name = 'Michael',                    last_name = 'Johnson',                    middle_name = NONE,                    date_of_birth = '1978-11-22',                    email = 'michael.johnson@example.com',                    phone = '512-555-0100',                    ssn = '234-56-7890',                    address = {                        street: '456 Oak Avenue',                        city: 'Austin',                        state: 'TX',                        zip_code: '78702'                    },                    insurance = {                        member_id: 'AET987654321',                        company: 'Aetna Insurance',                        plan_type: 'HMO Select',                        group_number: 'GRP002',                        effective_date: '2025-01-01',                        termination_date: '2025-12-31'                    },                    status = 'Active',                    risk_level = 'Low',                    created_at = time::now(),                    updated_at = time::now();
            
                CREATE patient:joshua_robinson SET                    first_name = 'Joshua',                    last_name = 'Robinson',                    middle_name = 'William',                    date_of_birth = '1994-05-29',                    email = 'joshua.robinson@example.com',                    phone = '512-555-0100',                    ssn = '012-34-5678',                    address = {                        street: '888 Oak Avenue',                        city: 'Plano',                        state: 'TX',                        zip_code: '75024'                    },                    insurance = {                        member_id: 'CIG623012345',                        company: 'Cigna Health',                        plan_type: 'Traditional Indemnity',                        group_number: 'GRP020',                        effective_date: '2025-01-01',                        termination_date: '2025-12-31'                    },                    status = 'Active',                    risk_level = 'Low',                    created_at = time::now(),                    updated_at = time::now();
            
                CREATE patient:emily_williams SET                    first_name = 'Emily',                    last_name = 'Williams',                    middle_name = 'Grace',                    date_of_birth = '1992-07-08',                    email = 'emily.williams@example.com',                    phone = '512-555-0100',                    ssn = '345-67-8901',                    address = {                        street: '789 Pine Lane',                        city: 'Houston',                        state: 'TX',                        zip_code: '77001'                    },                    insurance = {                        member_id: 'BCBS555789456',                        company: 'Blue Cross Blue Shield',                        plan_type: 'EPO Advantage',                        group_number: 'GRP003',                        effective_date: '2025-01-01',                        termination_date: '2025-12-31'                    },                    status = 'Active',                    risk_level = 'Low',                    created_at = time::now(),                    updated_at = time::now();
            
                CREATE patient:james_brown SET                    first_name = 'James',                    last_name = 'Brown',                    middle_name = NONE,                    date_of_birth = '1965-12-30',                    email = 'james.brown@example.com',                    phone = '512-555-0100',                    ssn = '456-78-9012',                    address = {                        street: '101 Cedar Court',                        city: 'Dallas',                        state: 'TX',                        zip_code: '75201'                    },                    insurance = {                        member_id: 'CIG623456789',                        company: 'Cigna Health',                        plan_type: 'High Deductible Health Plan',                        group_number: 'GRP004',                        effective_date: '2024-01-01',                        termination_date: '2024-12-31'                    },                    status = 'Churned',                    risk_level = 'Medium',                    created_at = time::now(),                    updated_at = time::now();
            
