# Cloudflare Workers Configuration for PFINNI Demo
# Created: 2025-08-05T23:15:00-06:00

name = "pfinni-dashboard-demo"
main = ".open-next/worker.js"
compatibility_date = "2024-12-30"
compatibility_flags = ["nodejs_compat"]

[site]
bucket = ".open-next/assets"

# KV Namespace for Next.js cache
[[kv_namespaces]]
binding = "NEXT_CACHE_WORKERS_KV"
# We'll create this namespace and get the ID

# Routes - serve from devq.ai/pfinni
[[routes]]
pattern = "devq.ai/pfinni/*"
zone_name = "devq.ai"

# Environment Variables
[vars]
ENVIRONMENT = "demo"
NODE_ENV = "production"
NEXT_PUBLIC_API_URL = "https://api.devq.ai"
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY = "pk_test_bGVuaWVudC1zdG9yay00NS5jbGVyay5hY2NvdW50cy5kZXYk"
NEXT_PUBLIC_CLERK_SIGN_IN_URL = "/pfinni/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL = "/pfinni/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL = "/pfinni/dashboard"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL = "/pfinni/dashboard"

# Logfire
LOGFIRE_ENVIRONMENT = "demo"
LOGFIRE_PROJECT_NAME = "pfinni-demo"

# Production placement
[placement]
mode = "smart"

# Observability
[observability]
enabled = true